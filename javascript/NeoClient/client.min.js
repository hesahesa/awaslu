pemilu={util:{},ui:{},api:{API_BASE_URL:"http://api.pemiluapi.org/",API_PEMILU_KEY:"426c044849d8f98b1591c2643275eca3"}};pemilu.config={GET_AREA:pemilu.api.API_BASE_URL+"geographic/api/point?apiKey="+pemilu.api.API_PEMILU_KEY,GET_ALL_LAPORAN:"./backend/getalllaporan.php",GET_ALL_LAPORAN_BY_AREA_ID:"./backend/getalllaporanbyareaid.php",GET_LAPORAN:"./backend/getlaporan.php",GET_MOST_SHARED_LAPORAN:"./backend/getmostsharedlaporan.php",GET_NUM_LAPORAN_BY_CALEG:"./backend/getnulaporanbycaleg.php",GET_NUM_LAPORAN_BY_PARTY:"./backend/getnumlaporanbyparty.php"};
pemilu.localStorage=function(){this.reset=function(a){localStorage.clear();a()};this.getHelper=function(a){return"undefined"!==typeof localStorage[a]?localStorage[a]:null};this.setHelper=function(a,d){localStorage[a]=d}};
(function(){function a(a){var d=document.getElementById("messages");d.innerHTML=a+d.innerHTML}function d(a){a.stopPropagation();a.preventDefault();a.target.className="dragover"==a.type?"hover":""}function g(a){d(a);a=a.target.files||a.dataTransfer.files;for(var g=0,t;t=a[g];g++)h(t),c(t)}function h(d){a("<p>File information: <strong>"+d.name+"</strong> type: <strong>"+d.type+"</strong> size: <strong>"+d.size+"</strong> bytes</p>");if(0==d.type.indexOf("image")){var c=new FileReader;c.onload=function(c){a("<p><strong>"+
d.name+':</strong><br /><img src="'+c.target.result+'" /></p>')};c.readAsDataURL(d)}0==d.type.indexOf("text")&&(c=new FileReader,c.onload=function(c){a("<p><strong>"+d.name+":</strong></p><pre>"+c.target.result.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>")},c.readAsText(d))}function c(a){if(!(0<=location.host.indexOf("sitepointstatic"))){var d=new XMLHttpRequest;if(d.upload&&"image/jpeg"==a.type&&a.size<=document.getElementById("MAX_FILE_SIZE").value){var c=document.getElementById("progress").appendChild(document.createElement("p"));
c.appendChild(document.createTextNode("upload "+a.name));d.upload.addEventListener("progress",function(b){b=parseInt(100-b.loaded/b.total*100);c.style.backgroundPosition=b+"% 0"},!1);d.onreadystatechange=function(b){4==d.readyState&&(c.className=200==d.status?"success":"failure",console.log(d.response))};d.open("POST",document.getElementById("upload").action,!0);d.setRequestHeader("X_FILENAME",a.name);d.send(a)}}}function s(){var a=document.getElementById("fileselect"),c=document.getElementById("filedrag"),
h=document.getElementById("submitbutton");a.addEventListener("change",g,!1);(new XMLHttpRequest).upload&&(c.addEventListener("dragover",d,!1),c.addEventListener("dragleave",d,!1),c.addEventListener("drop",g,!1),c.style.display="block",h.style.display="none")}window.File&&window.FileList&&window.FileReader&&s()})();
(function(){var a,d,g,h,c=function(b,f){return function(){return b.apply(f,arguments)}},s=[].indexOf||function(b){for(var f=0,k=this.length;f<k;f++)if(f in this&&this[f]===b)return f;return-1},v=[].slice,z={}.hasOwnProperty,t=function(b,f){function k(){this.constructor=b}for(var p in f)z.call(f,p)&&(b[p]=f[p]);k.prototype=f.prototype;b.prototype=new k;b.__super__=f.prototype;return b};a={binders:{},components:{},formatters:{},adapters:{},config:{prefix:"rv",templateDelimiters:["{","}"],rootInterface:".",
preloadData:!0,handler:function(b,f,k){return this.call(b,f,k.view.models)}}};"jQuery"in window?(h="on"in jQuery?["on","off"]:["bind","unbind"],d=h[0],g=h[1],a.Util={bindEvent:function(b,f,k){return jQuery(b)[d](f,k)},unbindEvent:function(b,f,k){return jQuery(b)[g](f,k)},getInputValue:function(b){b=jQuery(b);return"checkbox"===b.attr("type")?b.is(":checked"):b.val()}}):a.Util={bindEvent:function(){return"addEventListener"in window?function(b,f,k){return b.addEventListener(f,k,!1)}:function(b,f,k){return b.attachEvent("on"+
f,k)}}(),unbindEvent:function(){return"removeEventListener"in window?function(b,f,k){return b.removeEventListener(f,k,!1)}:function(b,f,k){return b.detachEvent("on"+f,k)}}(),getInputValue:function(b){var f,k,p,a;if("checkbox"===b.type)return b.checked;if("select-multiple"===b.type){a=[];k=0;for(p=b.length;k<p;k++)f=b[k],f.selected&&a.push(f.value);return a}return b.value}};a.View=function(){function b(f,k,b){var e,l,w,d,g;this.els=f;this.models=k;this.options=null!=b?b:{};this.update=c(this.update,
this);this.publish=c(this.publish,this);this.sync=c(this.sync,this);this.unbind=c(this.unbind,this);this.bind=c(this.bind,this);this.select=c(this.select,this);this.build=c(this.build,this);this.componentRegExp=c(this.componentRegExp,this);this.bindingRegExp=c(this.bindingRegExp,this);this.els.jquery||this.els instanceof Array||(this.els=[this.els]);d=["config","binders","formatters","adapters"];b=0;for(w=d.length;b<w;b++){f=d[b];this[f]={};if(this.options[f])for(e in g=this.options[f],g)k=g[e],this[f][e]=
k;g=a[f];for(e in g)k=g[e],null==(l=this[f])[e]&&(l[e]=k)}this.build()}b.prototype.bindingRegExp=function(){return RegExp("^"+this.config.prefix+"-")};b.prototype.componentRegExp=function(){return RegExp("^"+this.config.prefix.toUpperCase()+"-")};b.prototype.build=function(){var f,k,b,e,l,d,c,g,h,r=this;this.bindings=[];d=[];f=this.bindingRegExp();b=this.componentRegExp();k=function(f,k,b,p){var e,l,d,c,w,g;c={};g=function(){var f,k,b,a;b=p.split("|");a=[];f=0;for(k=b.length;f<k;f++)w=b[f],a.push(w.trim());
return a}();e=function(){var f,k,b,a;b=g.shift().split("<");a=[];f=0;for(k=b.length;f<k;f++)l=b[f],a.push(l.trim());return a}();d=e.shift();c.formatters=g;if(e=e.shift())c.dependencies=e.split(/\s+/);return r.bindings.push(new a[f](r,k,b,d,c))};l=function(e){var c,g,q,h,m,n,t,v,u,x,y;if(0>s.call(d,e)){if(3===e.nodeType){if(m=a.TextTemplateParser,(h=r.config.templateDelimiters)&&(c=m.parse(e.data,h)).length&&(1!==c.length||c[0].type!==m.types.text)){u=0;for(x=c.length;u<x;u++)h=c[u],m=document.createTextNode(h.value),
e.parentNode.insertBefore(m,e),1===h.type&&k("TextBinding",m,null,h.value);e.parentNode.removeChild(e)}}else if(b.test(e.tagName))n=e.tagName.replace(b,"").toLowerCase(),r.bindings.push(new a.ComponentBinding(r,e,n));else if(null!=e.attributes){x=e.attributes;h=0;for(u=x.length;h<u;h++)if(c=x[h],f.test(c.name)){n=c.name.replace(f,"");if(!(q=r.binders[n]))for(m in y=r.binders,y)v=y[m],"*"!==m&&-1!==m.indexOf("*")&&(t=RegExp("^"+m.replace("*",".+")+"$"),t.test(n)&&(q=v));q||(q=r.binders["*"]);if(q.block){t=
e.childNodes;g=0;for(q=t.length;g<q;g++)n=t[g],d.push(n);g=[c]}}u=g||e.attributes;m=0;for(h=u.length;m<h;m++)c=u[m],f.test(c.name)&&(n=c.name.replace(f,""),k("Binding",e,n,c.value))}h=e.childNodes;e=[];m=0;for(c=h.length;m<c;m++)n=h[m],e.push(n);u=[];h=0;for(m=e.length;h<m;h++)c=e[h],u.push(l(c));return u}};h=this.els;c=0;for(g=h.length;c<g;c++)e=h[c],l(e)};b.prototype.select=function(f){var k,b,a,l,c;l=this.bindings;c=[];b=0;for(a=l.length;b<a;b++)k=l[b],f(k)&&c.push(k);return c};b.prototype.bind=
function(){var f,b,a,e,l;e=this.bindings;l=[];b=0;for(a=e.length;b<a;b++)f=e[b],l.push(f.bind());return l};b.prototype.unbind=function(){var f,b,a,e,l;e=this.bindings;l=[];b=0;for(a=e.length;b<a;b++)f=e[b],l.push(f.unbind());return l};b.prototype.sync=function(){var f,b,a,e,l;e=this.bindings;l=[];b=0;for(a=e.length;b<a;b++)f=e[b],l.push(f.sync());return l};b.prototype.publish=function(){var f,b,a,e,l;e=this.select(function(f){return f.binder.publishes});l=[];b=0;for(a=e.length;b<a;b++)f=e[b],l.push(f.publish());
return l};b.prototype.update=function(f){var b,a,e,l,c;null==f&&(f={});for(b in f)a=f[b],this.models[b]=a;l=this.bindings;c=[];a=0;for(e=l.length;a<e;a++)b=l[a],c.push(b.update(f));return c};return b}();a.Binding=function(){function b(f,b,a,e,l){this.view=f;this.el=b;this.type=a;this.keypath=e;this.options=null!=l?l:{};this.update=c(this.update,this);this.unbind=c(this.unbind,this);this.bind=c(this.bind,this);this.publish=c(this.publish,this);this.sync=c(this.sync,this);this.set=c(this.set,this);
this.eventHandler=c(this.eventHandler,this);this.formattedValue=c(this.formattedValue,this);this.setBinder=c(this.setBinder,this);this.formatters=this.options.formatters||[];this.dependencies=[];this.model=void 0;this.setBinder()}b.prototype.setBinder=function(){var f,b,a,e;if(!(this.binder=this.view.binders[this.type]))for(f in e=this.view.binders,e)a=e[f],"*"!==f&&-1!==f.indexOf("*")&&(b=RegExp("^"+f.replace("*",".+")+"$"),b.test(this.type)&&(this.binder=a,this.args=RegExp("^"+f.replace("*","(.+)")+
"$").exec(this.type),this.args.shift()));this.binder||(this.binder=this.view.binders["*"]);if(this.binder instanceof Function)return this.binder={routine:this.binder}};b.prototype.formattedValue=function(f){var b,a,e,l,c;c=this.formatters;e=0;for(l=c.length;e<l;e++)a=c[e],b=a.split(/\s+/),a=b.shift(),a=this.view.formatters[a],(null!=a?a.read:void 0)instanceof Function?f=a.read.apply(a,[f].concat(v.call(b))):a instanceof Function&&(f=a.apply(null,[f].concat(v.call(b))));return f};b.prototype.eventHandler=
function(f){var b,a;a=(b=this).view.config.handler;return function(e){return a.call(f,this,e,b)}};b.prototype.set=function(f){var b;f=f instanceof Function&&!this.binder["function"]?this.formattedValue(f.call(this.model)):this.formattedValue(f);return null!=(b=this.binder.routine)?b.call(this,this.el,f):void 0};b.prototype.sync=function(){var f,b,p,e,c;if(this.model!==this.observer.target){e=this.dependencies;b=0;for(p=e.length;b<p;b++)f=e[b],f.unobserve();this.dependencies=[];if(null!=(this.model=
this.observer.target)&&null!=(c=this.options.dependencies)&&c.length)for(e=this.options.dependencies,b=0,p=e.length;b<p;b++)f=e[b],f=new a.Observer(this.view,this.model,f,this.sync),this.dependencies.push(f)}return this.set(this.observer.value())};b.prototype.publish=function(){var f,b,p,e,c,d,g,h;p=a.Util.getInputValue(this.el);d=this.formatters.slice(0).reverse();e=0;for(c=d.length;e<c;e++)f=d[e],f=f.split(/\s+/),b=f.shift(),null!=(g=this.view.formatters[b])&&g.publish&&(p=(h=this.view.formatters[b]).publish.apply(h,
[p].concat(v.call(f))));return this.observer.publish(p)};b.prototype.bind=function(){var f,b,p,e;null!=(b=this.binder.bind)&&b.call(this,this.el);this.observer=new a.Observer(this.view,this.view.models,this.keypath,this.sync);this.model=this.observer.target;if(null!=this.model&&null!=(p=this.options.dependencies)&&p.length)for(e=this.options.dependencies,b=0,p=e.length;b<p;b++)f=e[b],f=new a.Observer(this.view,this.model,f,this.sync),this.dependencies.push(f);if(this.view.config.preloadData)return this.sync()};
b.prototype.unbind=function(){var b,a,p,e;null!=(b=this.binder.unbind)&&b.call(this,this.el);this.observer.unobserve();e=this.dependencies;a=0;for(p=e.length;a<p;a++)b=e[a],b.unobserve();return this.dependencies=[]};b.prototype.update=function(b){var a;null==b&&(b={});return null!=(a=this.binder.update)?a.call(this,b):void 0};return b}();a.ComponentBinding=function(b){function f(b,f,e){var l,d;this.view=b;this.el=f;this.type=e;this.unbind=c(this.unbind,this);this.bind=c(this.bind,this);this.update=
c(this.update,this);this.locals=c(this.locals,this);this.component=a.components[this.type];this.attributes={};this.inflections={};l=this.el.attributes||[];f=0;for(e=l.length;f<e;f++)b=l[f],(d=b.name,0<=s.call(this.component.attributes,d))?this.attributes[b.name]=b.value:this.inflections[b.name]=b.value}t(f,b);f.prototype.sync=function(){};f.prototype.locals=function(b){var f,a,c,d,g,h,n;null==b&&(b=this.view.models);d={};c=this.inflections;for(a in c)for(f=c[a],n=f.split("."),g=0,h=n.length;g<h;g++)f=
n[g],d[a]=(d[a]||b)[f];for(a in b)c=b[a],null==d[a]&&(d[a]=c);return d};f.prototype.update=function(b){var f;return null!=(f=this.componentView)?f.update(this.locals(b)):void 0};f.prototype.bind=function(){var b;if(null!=this.componentView)return null!=(b=this.componentView)?b.bind():void 0;b=this.component.build.call(this.attributes);(this.componentView=new a.View(b,this.locals(),this.view.options)).bind();return this.el.parentNode.replaceChild(b,this.el)};f.prototype.unbind=function(){var b;return null!=
(b=this.componentView)?b.unbind():void 0};return f}(a.Binding);a.TextBinding=function(b){function f(b,f,a,d,g){this.view=b;this.el=f;this.type=a;this.keypath=d;this.options=null!=g?g:{};this.sync=c(this.sync,this);this.formatters=this.options.formatters||[];this.dependencies=[]}t(f,b);f.prototype.binder={routine:function(b,f){return b.data=null!=f?f:""}};f.prototype.sync=function(){return f.__super__.sync.apply(this,arguments)};return f}(a.Binding);a.KeypathParser=function(){function b(){}b.parse=
function(b,a,c){var e,d,g,h;d=[];c={"interface":c,path:""};e=g=0;for(h=b.length;g<h;e=g+=1)e=b.charAt(e),0<=s.call(a,e)?(d.push(c),c={"interface":e,path:""}):c.path+=e;d.push(c);return d};return b}();a.TextTemplateParser=function(){function b(){}b.types={text:0,binding:1};b.parse=function(b,a){var c,e,d,g;g=[];d=b.length;for(e=0;e<d;)if(c=b.indexOf(a[0],e),0>c){g.push({type:this.types.text,value:b.slice(e)});break}else{0<c&&e<c&&g.push({type:this.types.text,value:b.slice(e,c)});e=c+a[0].length;c=
b.indexOf(a[1],e);if(0>c){d=b.slice(e-a[1].length);c=g[g.length-1];(null!=c?c.type:void 0)===this.types.text?c.value+=d:g.push({type:this.types.text,value:d});break}e=b.slice(e,c).trim();g.push({type:this.types.binding,value:e});e=c+a[1].length}return g};return b}();a.Observer=function(){function b(b,a,d,e){this.view=b;this.model=a;this.keypath=d;this.callback=e;this.unobserve=c(this.unobserve,this);this.realize=c(this.realize,this);this.value=c(this.value,this);this.publish=c(this.publish,this);
this.read=c(this.read,this);this.set=c(this.set,this);this.adapter=c(this.adapter,this);this.update=c(this.update,this);this.initialize=c(this.initialize,this);this.parse=c(this.parse,this);this.parse();this.initialize()}b.prototype.parse=function(){var b,c,d,e;d=this.view.adapters;e=[];for(b in d)e.push(b);(c=this.keypath[0],0<=s.call(e,c))?(c=this.keypath[0],b=this.keypath.substr(1)):(c=this.view.config.rootInterface,b=this.keypath);this.tokens=a.KeypathParser.parse(b,e,c);return this.key=this.tokens.pop()};
b.prototype.initialize=function(){this.objectPath=[];this.target=this.realize();if(null!=this.target)return this.set(!0,this.key,this.target,this.callback)};b.prototype.update=function(){var b,a;if((b=this.realize())!==this.target&&(null!=this.target&&this.set(!1,this.key,this.target,this.callback),null!=b&&this.set(!0,this.key,b,this.callback),a=this.value(),this.target=b,this.value()!==a))return this.callback()};b.prototype.adapter=function(b){return this.view.adapters[b["interface"]]};b.prototype.set=
function(b,a,c,e){b=b?"subscribe":"unsubscribe";return this.adapter(a)[b](c,a.path,e)};b.prototype.read=function(b,a){return this.adapter(b).read(a,b.path)};b.prototype.publish=function(b){if(null!=this.target)return this.adapter(this.key).publish(this.target,this.key.path,b)};b.prototype.value=function(){if(null!=this.target)return this.read(this.key,this.target)};b.prototype.realize=function(){var b,a,c,e,d,g,h,m;b=this.model;d=null;m=this.tokens;a=g=0;for(h=m.length;g<h;a=++g)e=m[a],null!=b?(null!=
this.objectPath[a]?b!==(c=this.objectPath[a])&&(this.set(!1,e,c,this.update),this.set(!0,e,b,this.update),this.objectPath[a]=b):(this.set(!0,e,b,this.update),this.objectPath[a]=b),b=this.read(e,b)):(null==d&&(d=a),(c=this.objectPath[a])&&this.set(!1,e,c,this.update));null!=d&&this.objectPath.splice(d);return b};b.prototype.unobserve=function(){var b,a,c,e,d,g,h;g=this.tokens;h=[];b=e=0;for(d=g.length;e<d;b=++e)c=g[b],(a=this.objectPath[b])?h.push(this.set(!1,c,a,this.update)):h.push(void 0);return h};
return b}();a.binders.text=function(b,a){return null!=b.textContent?b.textContent=null!=a?a:"":b.innerText=null!=a?a:""};a.binders.html=function(b,a){return b.innerHTML=null!=a?a:""};a.binders.show=function(b,a){return b.style.display=a?"":"none"};a.binders.hide=function(b,a){return b.style.display=a?"none":""};a.binders.enabled=function(b,a){return b.disabled=!a};a.binders.disabled=function(b,a){return b.disabled=!!a};a.binders.checked={publishes:!0,bind:function(b){return a.Util.bindEvent(b,"change",
this.publish)},unbind:function(b){return a.Util.unbindEvent(b,"change",this.publish)},routine:function(b,a){var c;return"radio"===b.type?b.checked=(null!=(c=b.value)?c.toString():void 0)===(null!=a?a.toString():void 0):b.checked=!!a}};a.binders.unchecked={publishes:!0,bind:function(b){return a.Util.bindEvent(b,"change",this.publish)},unbind:function(b){return a.Util.unbindEvent(b,"change",this.publish)},routine:function(b,a){var c;return"radio"===b.type?b.checked=(null!=(c=b.value)?c.toString():void 0)!==
(null!=a?a.toString():void 0):b.checked=!a}};a.binders.value={publishes:!0,bind:function(b){return a.Util.bindEvent(b,"change",this.publish)},unbind:function(b){return a.Util.unbindEvent(b,"change",this.publish)},routine:function(b,a){var c,d,e,g,h;if(null!=window.jQuery){if(b=jQuery(b),(null!=a?a.toString():void 0)!==(null!=(c=b.val())?c.toString():void 0))return b.val(null!=a?a:"")}else if("select-multiple"===b.type){if(null!=a){h=[];d=0;for(e=b.length;d<e;d++)c=b[d],h.push(c.selected=(g=c.value,
0<=s.call(a,g)));return h}}else if((null!=a?a.toString():void 0)!==(null!=(d=b.value)?d.toString():void 0))return b.value=null!=a?a:""}};a.binders["if"]={block:!0,bind:function(b){var a,c;if(null==this.marker)return a=[this.view.config.prefix,this.type].join("-").replace("--","-"),c=b.getAttribute(a),this.marker=document.createComment(" rivets: "+this.type+" "+c+" "),b.removeAttribute(a),b.parentNode.insertBefore(this.marker,b),b.parentNode.removeChild(b)},unbind:function(){var b;return null!=(b=
this.nested)?b.unbind():void 0},routine:function(b,f){var c,d,e,g;if(!!f===(null==this.nested)){if(f){e={};g=this.view.models;for(c in g)d=g[c],e[c]=d;c={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:this.view.options.config};(this.nested=new a.View(b,e,c)).bind();return this.marker.parentNode.insertBefore(b,this.marker.nextSibling)}b.parentNode.removeChild(b);this.nested.unbind();return delete this.nested}},update:function(b){var a;
return null!=(a=this.nested)?a.update(b):void 0}};a.binders.unless={block:!0,bind:function(b){return a.binders["if"].bind.call(this,b)},unbind:function(){return a.binders["if"].unbind.call(this)},routine:function(b,f){return a.binders["if"].routine.call(this,b,!f)},update:function(b){return a.binders["if"].update.call(this,b)}};a.binders["on-*"]={"function":!0,unbind:function(b){if(this.handler)return a.Util.unbindEvent(b,this.args[0],this.handler)},routine:function(b,f){this.handler&&a.Util.unbindEvent(b,
this.args[0],this.handler);return a.Util.bindEvent(b,this.args[0],this.handler=this.eventHandler(f))}};a.binders["each-*"]={block:!0,bind:function(b){var a;if(null==this.marker)return a=[this.view.config.prefix,this.type].join("-").replace("--","-"),this.marker=document.createComment(" rivets: "+this.type+" "),this.iterated=[],b.removeAttribute(a),b.parentNode.insertBefore(this.marker,b),b.parentNode.removeChild(b)},unbind:function(b){var a,c,d,e;if(null!=this.iterated){d=this.iterated;e=[];a=0;for(c=
d.length;a<c;a++)b=d[a],e.push(b.unbind());return e}},routine:function(b,f){var c,d,e,g,h,q,m,n,r,s;q=this.args[0];f=f||[];if(this.iterated.length>f.length)for(r=Array(this.iterated.length-f.length),n=0,r=r.length;n<r;n++)d=this.iterated.pop(),d.unbind(),this.marker.parentNode.removeChild(d.els[0]);e=n=0;for(r=f.length;n<r;e=++n)if(h=f[e],d={},d[q]=h,null==this.iterated[e]){e=this.view.models;for(g in e)h=e[g],null==d[g]&&(d[g]=h);h=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:
this.marker;e={binders:this.view.options.binders,formatters:this.view.options.formatters,adapters:this.view.options.adapters,config:{}};s=this.view.options.config;for(c in s)m=s[c],e.config[c]=m;e.config.preloadData=!0;m=b.cloneNode(!0);d=new a.View(m,d,e);d.bind();this.iterated.push(d);this.marker.parentNode.insertBefore(m,h.nextSibling)}else this.iterated[e].models[q]!==h&&this.iterated[e].update(d);if("OPTION"===b.nodeName){n=this.view.bindings;r=[];g=0;for(q=n.length;g<q;g++)c=n[g],c.el===this.marker.parentNode&&
"value"===c.type?r.push(c.sync()):r.push(void 0);return r}},update:function(b){var a,c,d,e,g;a={};for(c in b)d=b[c],c!==this.args[0]&&(a[c]=d);e=this.iterated;g=[];c=0;for(d=e.length;c<d;c++)b=e[c],g.push(b.update(a));return g}};a.binders["class-*"]=function(b,a){var c;c=" "+b.className+" ";if(!a===(-1!==c.indexOf(" "+this.args[0]+" ")))return b.className=a?""+b.className+" "+this.args[0]:c.replace(" "+this.args[0]+" "," ").trim()};a.binders["*"]=function(b,a){return a?b.setAttribute(this.type,a):
b.removeAttribute(this.type)};a.adapters["."]={id:"_rv",counter:0,weakmap:{},weakReference:function(b){var a;null==b[this.id]&&(a=this.counter++,this.weakmap[a]={callbacks:{}},Object.defineProperty(b,this.id,{value:a}));return this.weakmap[b[this.id]]},stubFunction:function(b,a){var c,d,e;d=b[a];c=this.weakReference(b);e=this.weakmap;return b[a]=function(){var a,f,g,h,n,r,s,t,v;g=d.apply(b,arguments);r=c.pointers;for(f in r)for(a=r[f],v=null!=(s=null!=(t=e[f])?t.callbacks[a]:void 0)?s:[],h=0,n=v.length;h<
n;h++)a=v[h],a();return g}},observeMutations:function(b,a,c){var d,e,g,h,q,m;if(Array.isArray(b)){g=this.weakReference(b);if(null==g.pointers)for(g.pointers={},e="push pop shift unshift sort reverse splice".split(" "),q=0,m=e.length;q<m;q++)d=e[q],this.stubFunction(b,d);null==(h=g.pointers)[a]&&(h[a]=[]);if(0>s.call(g.pointers[a],c))return g.pointers[a].push(c)}},unobserveMutations:function(b,a,c){var d,e;if(Array.isArray(b&&null!=b[this.id])&&(d=null!=(e=this.weakReference(b).pointers)?e[a]:void 0))return d.splice(d.indexOf(c),
1)},subscribe:function(b,a,c){var d,e,g=this;d=this.weakReference(b).callbacks;null==d[a]&&(d[a]=[],e=b[a],Object.defineProperty(b,a,{get:function(){return e},set:function(h){var q,m,n;if(h!==e){e=h;n=d[a];q=0;for(m=n.length;q<m;q++)c=n[q],c();return g.observeMutations(h,b[g.id],a)}}}));0>s.call(d[a],c)&&d[a].push(c);return this.observeMutations(b[a],b[this.id],a)},unsubscribe:function(b,a,c){var d;d=this.weakmap[b[this.id]].callbacks[a];d.splice(d.indexOf(c),1);return this.unobserveMutations(b[a],
b[this.id],a)},read:function(b,a){return b[a]},publish:function(b,a,c){return b[a]=c}};a.factory=function(b){b._=a;b.binders=a.binders;b.components=a.components;b.formatters=a.formatters;b.adapters=a.adapters;b.config=a.config;b.configure=function(b){var c,d;null==b&&(b={});for(c in b)d=b[c],a.config[c]=d};return b.bind=function(b,c,d){null==c&&(c={});null==d&&(d={});b=new a.View(b,c,d);b.bind();return b}};"object"===typeof exports?a.factory(exports):"function"===typeof define&&define.amd?define(["exports"],
function(b){a.factory(this.rivets=b);return b}):a.factory(this.rivets={})}).call(this);pemilu.area=function(a){this.kind=a.kind;this.id=a.id;this.nama=a.nama;this.lembaga=a.lembaga};
pemilu.caleg=function(a){this.id=a.id;this.tahun=a.tahun;this.lembaga=a.lembaga;this.jenis_kelamin=a.jenis_kelamin;this.agama=a.agama;this.tempat_lahir=a.tempat_lahir;this.status_perkawinan=a.status_perkawinan;this.nama_pasangan=a.nama_pasangan;this.jumlah_anak=a.jumlah_anak;this.kelurahan_tinggal=a.kelurahan_tinggal;this.kecamatan_tinggal=a.kecamatan_tinggal;this.provinsi_tinggal={id:a.provinsi.id,nama:a.provinsi.nama};this.dapil={id:a.dapil.id,nama:a.dapil.nama};this.partai=a.partai;this.urutan=
a.urutan;this.foto_url=a.foto_url;this.kab_kota_tinggal=a.kab_kota_tinggal};pemilu.controller=function(){_this=this;this.reports=[];this.hasReport=!1;this.totReport=0;this.geoLocation=null;this.area=[]};pemilu.controller.prototype.getGeoLocation=function(a){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){_this.geoLocation=[a.coords.latitude,a.coords.longitude];console.log(_this.geoLocation)}):this.geoLocation=null};
pemilu.controller.prototype.getArea=function(a){console.log(a);(new pemilu.util.ajaxCall).getArea(a,function(a){_this.setArea(a)})};pemilu.controller.prototype.getAllReport=function(a,d){this.getGeoLocation(function(g){var h=new pemilu.util.ajaxCall;if(null!=g){_this.getArea(g);for(var c;c<_this.area.length;c++)h.getAllReportByAreaID(_this.area[c],a,function(a){_this.setReportList(a,d);d.bind()})}else h.getAllReport(a,function(a){_this.setReportList(a,d);d.bind()})})};
pemilu.controller.prototype.getMostSharedReportList=function(a,d){(new pemilu.util.ajaxCall).getMostSharedReportList(a,function(a){_this.setReportList(a,d);d.bind()})};pemilu.controller.prototype.getReportByArea=function(a,d){(new pemilu.util.ajaxCall).getReportByArea(a,function(a){_this.setReportList(a,d);d.bind()})};pemilu.controller.prototype.getReport=function(a,d){(new pemilu.util.ajaxCall).getReport(a,function(a){_this.setReportList(a,d);d.bind()})};
pemilu.controller.prototype.getTotReportByCaleg=function(a,d){(new pemilu.util.ajaxCall).getTotReportByCaleg(a,function(a){_this.setReportList(a,d);d.bind()})};pemilu.controller.prototype.getTotReportByParty=function(a,d){(new pemilu.util.ajaxCall).getTotReportByParty(a,function(a){_this.setReportList(a,d);d.bind()})};
pemilu.controller.prototype.setReportList=function(a,d){if(null!=a)for(var g=0;g<=a.length-1;g++)this.reports.push(new pemilu.report(a[g])),d.bind(),pemilu.ui.buildChart(g,[[new Date("1/1/2012"),3],[new Date("2/1/2012"),15],[new Date("3/1/2012"),34],[new Date("4/1/2012"),10],[new Date("5/1/2012"),1],[new Date("6/1/2012"),4],[new Date("7/1/2012"),10],[new Date("8/1/2012"),1],[new Date("9/1/2012"),4]])};
pemilu.controller.prototype.setArea=function(a){if(null!=a)for(var d=0;d<=a.data.results.areas.length-1;d++)this.area[d]=new pemilu.area(a.data.results.areas[d])};pemilu.controller.prototype.getMostSharedReportList=function(a){(new pemilu.util.ajaxCall).getMostSharedReportList(function(d){_this.setReportList(d,a);a.bind()})};
pemilu.report=function(a){this.id=a.id;this.title=a.title;this.picture_url=a.picture_url;this.description=a.description;this.date=a.date;this.caleg_id=a.caleg_id_API;this.latitude=a.latitude;this.longitude=a.longitude;this.party_id=a.party_id_API;this.user_id=this.user_id;this.sharecounter=this.sharecounter};pemilu.ui.rivets={};
pemilu.ui.rivets.setup=function(){rivets.formatters.status={read:function(a){return 1==a?"active":"inactive"}};rivets.formatters.chartClass={read:function(a){return"chart_"+a}}};pemilu.ui.rivets.bind=function(){view=rivets.bind($("#report-list"),{controller:controller})};pemilu.ui.ready=function(){window.controller=new pemilu.controller;controller=window.controller;pemilu.ui.rivets.bind();pemilu.ui.rivets.setup();pemilu.ui.bind();controller.getGeoLocation();controller.getAllReport(1,view)};
pemilu.ui.bind=function(){$("#report-view-all").unbind("click");$("#report-view-all").bind("click",function(){controller.getReportList(view)});$("#report-view-most").unbind("click");$("#report-view-most").bind("click",function(){controller.getMostSharedReportList(view)});$("#addReport").bind("click",function(){showDialogue("#dialogue")});$("#dialogue-overlay").bind("click",function(){hideDialogue("#dialogue")})};
pemilu.ui.buildChart=function(a,d){var g=document.getElementsByClassName("chart_"+a);0<g.length&&(g=new Charts.LineChart(g[0],{show_grid:!0,label_max:!1,label_min:!1,show_y_labels:!1}),g.add_line({data:d,options:{line_color:"#00aadd",dot_color:"#00aadd",area_color:"rgba(255,255,255,0)",area_opacity:0.2,dot_size:5,line_width:2}}),g.draw())};function showDialogue(a){$(a).show();$("#dialogue-overlay").fadeIn()}function hideDialogue(a){$(a).hide();$("#dialogue-overlay").fadeOut()}
function getCurCoordinate(){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(showPosition);else return"notsupported"}function showPosition(a){return[a.coords.latitude,a.coords.longitude]}pemilu.util.ajaxCall=function(){this.url=""};pemilu.util.ajaxCall.prototype.getArea=function(a,d){this.url=pemilu.config.GET_AREA+"&lat="+a[0]+"&long="+a[1];$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){console.log(c)})};
pemilu.util.ajaxCall.prototype.getMostSharedReportList=function(a,d){this.url=pemilu.config.GET_MOST_SHARED_LAPORAN+"?pagenum="+a;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){console.log(c)})};pemilu.util.ajaxCall.prototype.getReport=function(a,d){this.url=pemilu.config.GET_LAPORAN+"?laporan_id="+a;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){})};
pemilu.util.ajaxCall.prototype.getAllReportByAreaID=function(a,d,g){this.url=pemilu.config.GET_ALL_LAPORAN_BY_AREA_ID+"?areaID="+a+"&pagenum="+d;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,c,d){g(a)}).fail(function(a,c,d){})};pemilu.util.ajaxCall.prototype.getAllReport=function(a,d){this.url=pemilu.config.GET_ALL_LAPORAN+"?pagenum="+a;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){})};
pemilu.util.ajaxCall.prototype.getTotReportByCaleg=function(a,d){this.url=pemilu.config.GET_NUM_LAPORAN_BY_CALEG+"?caleg_id="+a;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){})};pemilu.util.ajaxCall.prototype.getTotReportByParty=function(a,d){this.url=pemilu.config.GET_NUM_LAPORAN_BY_PARTY+"?party_id="+a;$.ajax(this.url,{type:"GET",dataType:"json"}).done(function(a,h,c){d(a)}).fail(function(a,d,c){})};
